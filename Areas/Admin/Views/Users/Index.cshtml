@using Microsoft.AspNetCore.Identity
@model IEnumerable<ApplicationUser>

@{
	ViewData["Title"] = "System Users";
}

<h1>Index</h1>

<div class="row">
	<div class="col-4 ps-0 mb-4">
		<form asp-action="Create" method="get">
			<button type="submit" class="text-nowrap btn btn-block btn-outline-success btn-lg"><i class="fa fa-plus" aria-hidden="true"></i>  Add New User</button>
		</form>
	</div>
	<div class="col-12">

		<div class="card">
			<div class="card-header">
				<h3 class="card-title">Table</h3>
			</div>
			<!-- /.card-header -->
			<div class="card-body">
				<table id="example1" class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>
								Full Name
							</th>
							<th>
								Id No
							</th>
							<th>
								User Role
							</th>
							<th>
								User Email
							</th>
							<th>
								User Name
							</th>

							<th>
								User Phone Number
							</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<td>
									@Html.DisplayFor(modelItem => item.Employee.FullName)
								</td>
								<td>
									@Html.DisplayFor(modelItem => item.Employee.Nationality)
								</td>
								<td>
									@(string.Join(", ", item.Roles))
								</td>
								<td>
									@Html.DisplayFor(modelItem => item.Email)
								</td>

								<td>
									@Html.DisplayFor(modelItem => item.UserName)
								</td>

								<td>
									@Html.DisplayFor(modelItem => item.Employee.PhoneNumber)
								</td>
								<td>
									<div class="d-flex justify-content-center align-items-center nowrap">
										<a class="btn btn-block btn-outline-primary btn-sm mt-2" asp-action="Edit" asp-route-id="@item.Id"><i class="far fa-edit"></i> Edit</a>

										<a class="btn btn-block btn-outline-info btn-sm " asp-action="Details" asp-route-id="@item.Id"><i class="fas fa-info-circle"></i> Details</a>
										<form asp-action="Delete" asp-route-id="@item.Id" method="post"
											  onsubmit="return confirm('Are you sure you want to delete this user?');">
											<button type="submit" class="btn btn-block btn-outline-danger btn-sm mt-2" style="display:flex; flex-wrap:nowrap"><i class="fas fa-trash-alt mt-1 mr-1 "></i>Delete</button>
										</form>
									</div>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
			<!-- /.card-body -->
		</div>
		<!-- /.card -->
	</div>
	<!-- /.col -->
</div>
<!-- /.row -->